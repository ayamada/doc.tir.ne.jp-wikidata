---
toc: yes
categories: todo
title: TODO
...

このページには、doc.tir.ne.jpをメンテする上で必要な各種の残り作業を列挙します。

作業が完了したら、後で確認する意味があるものは「完了したTODO」に移動させ、そうでないものはそのまま消していきます。


# 優先TODO

- 「..」モジュールを作る
    - サブディレクトリなwikinameのところに「..」相当のリンクをつけたい
        - gititのモジュール書いてやってみる
        - しかしどうも、gititでは「/dir」と「/dir/」の扱いが違い、「/dir/child」があるからといって「/dir」があるとは限らないので(「/dir/」はあるが)、安易に「..」相当のリンクを貼れないっぽいようだ。モジュール作らずに手で貼った方がいい？
            - しかし、doc.tir.ne.jpに限れば、「/dir/child」を書く時は「/dir」も書くルールで運用する、という事なら、モジュール作ってしまった方がいいと思う
    - 現状だと移動が不便なので優先して作る事

- 公開サイトで、「最近の更新履歴」→各ページのリンク、と辿ると差分表示になるが、上のタブ表示も消している為通常表示に戻せない。
    - 可能ならこの時だけ最新ページに戻る表示を出したい。
    - もう「最近の更新履歴」も出さないようにする？
        - でもこれは出した方がいいと思う
    - このままだと非常に不便なので早くどうにかする事


# 全般的なTODO

- githubにリポジトリ作成など
- 各cgiを作成
    - deploy.cgi(intraからdocへ内容反映、プレビュー(diff形式？)あり)
    - push.cgi(githubかどこかの外部リポジトリにpush、シェルからも実行可能)
- 最低限必要なコンテンツの作成


# gitit本体をいじる必要のあるTODO

このTODOの内、一般的な情報のものについては、完了後は[#完了したtodo]()ではなく、[/gitit]()に移動させましょう。

- 可能なら自分で新たに「\$hoge\$」タグを追加して、docとintraのテンプレートを完全に共通化させたいので、可能かどうか調べる
    - とりあえず、class="public-only" class="intra-only"を用意して、cssレベルで区別だけしては？
        - css自体も共通にしたいので、もうちょっと考える必要はあるが…
    - 他にも変数で変更したい部分はあるので調査自体は行う。面倒ならもう「\$if(feed)\$」等の他の用途の変数を流用する事を考える
    - これはpandocのtemplate機能らしい→ http://johnmacfarlane.net/pandoc/README.html#templates

- ExportのSlidyを動くようにする。それができないなら「\$exportbox\$」から抜く方法を考える

- \*.st内における、httpからはじまるfull urlの出し方を調べ、pagetool.stのbingのところに反映
    - 調べた結果、取れるインターフェースはないようだ…
        - デフォルトではhostnameシステムコールで取るらしい
        - どうしても取りたいなら自分でプラグイン作ってHost: ヘッダから取るしかなさそう

- 編集サイトのみ、左サイドバー内のどこかに、「公開サイトと編集サイトの違い」「同期方法」「うっかり編集サイトのURLを外に貼らないよう注意！」等々の説明書きをする事を考える

- 日本語のmarkdown記法の解説ページ(可能ならpandoc版のもの)へのリンクを左サイドバーに追加する

- Recent changes とかの日時をUTCじゃなくJSTにしたい

- doc.tir.ne.jp向けのカスタマイズを行ったテンプレート等も、githubにリポジトリを作って、保存しても問題ない部分については保存してしまう
    - 勿論、パスワード等の設定部分は除外する

- categories: tir.ne.jp を各ページにつけてまわる

- がんばってcssを独自作成する？

- このページはちょっとごちゃごちゃしているので、もうちょっと読みやすいようにしたい
    - doc.tir.ne.jp固有の情報はページ分けた方がいいと思う。あとで分ける事
    - このTODO自体も同時に移動させたい


# 完了したTODO

- 今は、「技情研ネット関連のコンテンツ」は[/tir.ne.jp/]()配下に設置する、というルールでやっているが、これはカテゴリの方がいいかどうか考える
    - とりあえずこれに限っては、カテゴリでない方がいい、という事になった(一覧を見た時に畳み込まれて、ちらかる事がない、という理由により)


<!-- vim:set ft=markdown ts=4 sts=4 sw=4 et: -->
